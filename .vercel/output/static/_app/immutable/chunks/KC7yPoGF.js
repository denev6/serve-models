import{a3 as F,aa as N,S as Y,ab as p,ac as M,ad as U,L,ae as x,af as z,ag as T,z as G,k as B,i as l,ah as $,ai as j,g as C,aj as H,ak as V,P as Z,al as J,a2 as K,am as Q}from"./q-7iqr8h.js";import{p as W}from"./XhzqXTBR.js";let c=!1;function X(r){var a=c;try{return c=!1,[r(),c]}finally{c=a}}function D(r){for(var a=L,n=L;a!==null&&!(a.f&(x|z));)a=a.parent;try{return T(a),r()}finally{T(n)}}function ae(r,a,n,v){var A;var g=(n&$)!==0,d=!M||(n&U)!==0,o=(n&j)!==0,q=(n&Q)!==0,I=!1,t;o?[t,I]=X(()=>r[a]):t=r[a];var w=Y in r||p in r,_=o&&(((A=F(r,a))==null?void 0:A.set)??(w&&a in r&&(e=>r[a]=e)))||void 0,i=v,P=!0,S=!1,R=()=>(S=!0,P&&(P=!1,q?i=C(v):i=v),i);t===void 0&&v!==void 0&&(_&&d&&H(),t=R(),_&&_(t));var f;if(d)f=()=>{var e=r[a];return e===void 0?R():(P=!0,S=!1,e)};else{var O=D(()=>(g?B:G)(()=>r[a]));O.f|=N,f=()=>{var e=l(O);return e!==void 0&&(i=void 0),e===void 0?i:e}}if(!(n&V))return f;if(_){var y=r.$$legacy;return function(e,u){return arguments.length>0?((!d||!u||y||I)&&_(u?f():e),e):f()}}var E=!1,h=!1,m=Z(t),s=D(()=>B(()=>{var e=f(),u=l(m);return E?(E=!1,h=!0,u):(h=!1,m.v=e)}));return g||(s.equals=J),function(e,u){if(arguments.length>0){const b=u?l(s):d&&o?W(e):e;return s.equals(b)||(E=!0,K(m,b),S&&i!==void 0&&(i=b),C(()=>l(s))),e}return l(s)}}export{ae as p};
