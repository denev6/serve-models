import{l as L,d as V,t as N,e as j,a as P,f as C}from"../chunks/vMUy-l4-.js";import"../chunks/CTd9Z4B1.js";import{ax as D,u as F,b as H,i as Z,p as $,s as c,f as R,t as I,l,a as z,a7 as o,ab as G,c as n,ac as m,r as v,m as Q}from"../chunks/BmosVzqU.js";import{s as M}from"../chunks/BIkekS2W.js";import{i as W}from"../chunks/B-pjV1An.js";import{s as X}from"../chunks/B8RWNBdP.js";import{i as Y}from"../chunks/2_8oiVJZ.js";import{p as ee}from"../chunks/C6th5xYc.js";function ae(e,r,_=r){var u=D();L(e,"input",s=>{var a=s?e.defaultValue:e.value;if(a=g(e)?b(a):a,_(a),u&&a!==(a=r())){var d=e.selectionStart,i=e.selectionEnd;e.value=a??"",i!==null&&(e.selectionStart=d,e.selectionEnd=Math.min(i,e.value.length))}}),(Z&&e.defaultValue!==e.value||F(r)==null&&e.value)&&_(g(e)?b(e.value):e.value),H(()=>{var s=r();g(e)&&s===b(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function g(e){var r=e.type;return r==="number"||r==="range"}function b(e){return e===""?null:+e}const te="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23333333'%3e%3cpath%20d='M440-647%20244-451q-12%2012-28%2011.5T188-452q-11-12-11.5-28t11.5-28l264-264q6-6%2013-8.5t15-2.5q8%200%2015%202.5t13%208.5l264%20264q11%2011%2011%2027.5T772-452q-12%2012-28.5%2012T715-452L520-647v447q0%2017-11.5%2028.5T480-160q-17%200-28.5-11.5T440-200v-447Z'/%3e%3c/svg%3e";var se=N('<p class="response svelte-1ls3si9"> </p> <p class="response svelte-1ls3si9"> </p>',1),re=N('<h1>Post sentences</h1> <div id="floating-box" class="svelte-1ls3si9"><div id="info" class="svelte-1ls3si9">Press SHIFT + ENTER to insert a newline</div> <div id="input-container" class="svelte-1ls3si9"><textarea placeholder="Enter text here..." class="svelte-1ls3si9"></textarea> <button class="svelte-1ls3si9"><img alt="submit"></button></div></div> <div><!></div>',1);function me(e,r){$(r,!1);const u=ee(r,"data",8)().apiUrl;let s=m(""),a=m(""),d=m(""),i=m(!1);async function y(){if(!l(s).trim()){alert("Please enter some text!");return}o(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:l(s)})}),o(i,!0);const t=await fetch(u+"/text",l(d));t.ok?o(a,await t.text()):o(a,"Error: Unable to send request."),o(i,!1)}function w(t){t.key==="Enter"&&!t.shiftKey&&(t.preventDefault(),y())}Y();var q=re();j("keydown",G,w);var p=c(R(q),2),k=c(n(p),2),x=n(k);C(x);var f=c(x,2);f.__click=y,f.__keydown=w;var O=n(f);X(O,"src",te),v(f),v(k),v(p);var T=c(p,2),U=n(T);{var A=t=>{var E=se(),h=R(E),B=n(h);v(h);var S=c(h,2),J=n(S);v(S),I(K=>{M(B,`Request: ${K??""}`),M(J,`Response: ${l(a)??""}`)},[()=>JSON.stringify(l(d))],Q),P(t,E)};W(U,t=>{l(a)&&t(A)})}v(T),I(()=>f.disabled=l(i)),ae(x,()=>l(s),t=>o(s,t)),P(e,q),z()}V(["click","keydown"]);export{me as component};
