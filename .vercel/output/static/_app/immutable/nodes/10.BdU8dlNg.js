import{l as K,d as L,t as R,e as U,a as k,g as V}from"../chunks/BaJEzMtw.js";import"../chunks/Dek7PPcY.js";import{ax as j,g as z,m as A,w as B,s as m,f as E,t as S,i as l,a2 as o,ao as C,c as n,ap as u,r as v,z as D}from"../chunks/q-7iqr8h.js";import{s as P}from"../chunks/D6ngW7ju.js";import{i as F}from"../chunks/BwwZvEgN.js";import{s as H}from"../chunks/DWfCLr6h.js";import{T as Z}from"../chunks/ClrUV_SQ.js";function G(e,t,i=t){var d=j();K(e,"input",s=>{var r=s?e.defaultValue:e.value;if(r=p(e)?b(r):r,i(r),d&&r!==(r=t())){var _=e.selectionStart,c=e.selectionEnd;e.value=r??"",c!==null&&(e.selectionStart=_,e.selectionEnd=Math.min(c,e.value.length))}}),(B&&e.defaultValue!==e.value||z(t)==null&&e.value)&&i(p(e)?b(e.value):e.value),A(()=>{var s=t();p(e)&&s===b(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function p(e){var t=e.type;return t==="number"||t==="range"}function b(e){return e===""?null:+e}const Q="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23333333'%3e%3cpath%20d='M440-647%20244-451q-12%2012-28%2011.5T188-452q-11-12-11.5-28t11.5-28l264-264q6-6%2013-8.5t15-2.5q8%200%2015%202.5t13%208.5l264%20264q11%2011%2011%2027.5T772-452q-12%2012-28.5%2012T715-452L520-647v447q0%2017-11.5%2028.5T480-160q-17%200-28.5-11.5T440-200v-447Z'/%3e%3c/svg%3e";var W=R('<p class="response svelte-1ls3si9"> </p> <p class="response svelte-1ls3si9"> </p>',1),X=R('<h1>Post sentences</h1> <div id="floating-box" class="svelte-1ls3si9"><div id="info" class="svelte-1ls3si9">Press SHIFT + ENTER to insert a newline</div> <div id="input-container" class="svelte-1ls3si9"><textarea placeholder="Enter text here..." class="svelte-1ls3si9"></textarea> <button class="svelte-1ls3si9"><img alt="submit"></button></div></div> <div><!></div>',1);function ie(e){let t=u(""),i=u(""),d=u(""),s=u(!1);async function r(){if(!l(t).trim()){alert("Please enter some text!");return}o(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:l(t)})}),o(s,!0);const a=await fetch(`${Z}/text`,l(d));a.ok?o(i,await a.text()):o(i,"Error: Unable to send request."),o(s,!1)}function _(a){a.key==="Enter"&&!a.shiftKey&&(a.preventDefault(),r())}var c=X();U("keydown",C,_);var x=m(E(c),2),w=m(n(x),2),g=n(w);V(g);var f=m(g,2);f.__click=r,f.__keydown=_;var $=n(f);H($,"src",Q),v(f),v(w),v(x);var y=m(x,2),I=n(y);{var M=a=>{var T=W(),h=E(T),N=n(h);v(h);var q=m(h,2),O=n(q);v(q),S(J=>{P(N,`Request: ${J??""}`),P(O,`Response: ${l(i)??""}`)},[()=>JSON.stringify(l(d))],D),k(a,T)};F(I,a=>{l(i)&&a(M)})}v(y),S(()=>f.disabled=l(s)),G(g,()=>l(t),a=>o(t,a)),k(e,c)}L(["click","keydown"]);export{ie as component};
