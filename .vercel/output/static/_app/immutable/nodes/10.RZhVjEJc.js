import{t as M,a as k}from"../chunks/DBumpeCZ.js";import"../chunks/BnESbU3h.js";import{as as K,g as L,m as U,w as V,s as m,f as E,t as S,i as l,a2 as o,ao as j,c as n,aq as _,r as v,z}from"../chunks/BWXxTf8G.js";import{l as A,d as B,e as C,r as D,s as R}from"../chunks/BVVBNkK6.js";import{i as F}from"../chunks/Sh6D9Sbw.js";import{s as H}from"../chunks/BSYsJ7yg.js";import{T as Z}from"../chunks/ClrUV_SQ.js";function G(e,t,i=t){var d=K();A(e,"input",s=>{var r=s?e.defaultValue:e.value;if(r=x(e)?b(r):r,i(r),d&&r!==(r=t())){var u=e.selectionStart,c=e.selectionEnd;e.value=r??"",c!==null&&(e.selectionStart=u,e.selectionEnd=Math.min(c,e.value.length))}}),(V&&e.defaultValue!==e.value||L(t)==null&&e.value)&&i(x(e)?b(e.value):e.value),U(()=>{var s=t();x(e)&&s===b(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function x(e){var t=e.type;return t==="number"||t==="range"}function b(e){return e===""?null:+e}const Q="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23333333'%3e%3cpath%20d='M440-647%20244-451q-12%2012-28%2011.5T188-452q-11-12-11.5-28t11.5-28l264-264q6-6%2013-8.5t15-2.5q8%200%2015%202.5t13%208.5l264%20264q11%2011%2011%2027.5T772-452q-12%2012-28.5%2012T715-452L520-647v447q0%2017-11.5%2028.5T480-160q-17%200-28.5-11.5T440-200v-447Z'/%3e%3c/svg%3e";var W=M('<p class="response svelte-1ls3si9"> </p> <p class="response svelte-1ls3si9"> </p>',1),X=M(`<h1>This page is used to test the local server.</h1> <p>My plan doesn't support Serverless functionsðŸ˜…</p> <div id="floating-box" class="svelte-1ls3si9"><div id="info" class="svelte-1ls3si9">Press SHIFT + ENTER to insert a newline</div> <div id="input-container" class="svelte-1ls3si9"><textarea placeholder="Enter text here..." class="svelte-1ls3si9"></textarea> <button class="svelte-1ls3si9"><img alt="submit"></button></div></div> <div><!></div>`,1);function ie(e){let t=_(""),i=_(""),d=_(""),s=_(!1);async function r(){if(!l(t).trim()){alert("Please enter some text!");return}o(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:l(t)})}),o(s,!0);const a=await fetch(`${Z}/text`,l(d));a.ok?o(i,await a.text()):o(i,"Error: Unable to send request."),o(s,!1)}function u(a){a.key==="Enter"&&!a.shiftKey&&(a.preventDefault(),r())}var c=X();C("keydown",j,u);var p=m(E(c),4),y=m(n(p),2),g=n(y);D(g);var f=m(g,2);f.__click=r,f.__keydown=u;var P=n(f);H(P,"src",Q),v(f),v(y),v(p);var w=m(p,2),$=n(w);{var I=a=>{var T=W(),h=E(T),N=n(h);v(h);var q=m(h,2),O=n(q);v(q),S(J=>{R(N,`Request: ${J??""}`),R(O,`Response: ${l(i)??""}`)},[()=>JSON.stringify(l(d))],z),k(a,T)};F($,a=>{l(i)&&a(I)})}v(w),S(()=>f.disabled=l(s)),G(g,()=>l(t),a=>o(t,a)),k(e,c)}B(["click","keydown"]);export{ie as component};
