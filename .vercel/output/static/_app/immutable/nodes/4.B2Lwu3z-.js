import{d as G,t as b,a as f,f as H}from"../chunks/BaJEzMtw.js";import"../chunks/Dek7PPcY.js";import{p as J,ap as m,s as u,f as K,c as _,t as y,a as Q,a2 as o,i as r,r as p,z as U}from"../chunks/q-7iqr8h.js";import{s as w}from"../chunks/D6ngW7ju.js";import{i as O}from"../chunks/BwwZvEgN.js";import{e as V,i as W}from"../chunks/vH2XqR-Q.js";import{s as X}from"../chunks/DWfCLr6h.js";import{i as Y}from"../chunks/Dr2HJf6E.js";import{A as T}from"../chunks/ClrUV_SQ.js";function Z(a,i,s){if(s){if(a.classList.contains(i))return;a.classList.add(i)}else{if(!a.classList.contains(i))return;a.classList.remove(i)}}function ee(a,i,s,n){var l=a.__styles??(a.__styles={});l[i]!==s&&(l[i]=s,s==null?a.style.removeProperty(i):a.style.setProperty(i,s,""))}var te=b('<div class="label-box svelte-1ynwde2"> </div>'),ae=b('<div id="label-container" class="svelte-1ynwde2"></div>'),se=b('<img id="upload-img" alt="" class="svelte-1ynwde2">'),ie=b('<h1>Predict Image Labels</h1> <!> <div id="floating-box" class="svelte-1ynwde2"><!> <div id="info" class="svelte-1ynwde2">Image(png, jpg, jpeg) should be smaller than 5MB.</div> <div id="input-container" class="svelte-1ynwde2"><input type="file" accept="image/jpg, image/jpeg, image/png" class="svelte-1ynwde2"> <button class="svelte-1ynwde2"> </button></div></div>',1);function ge(a,i){J(i,!1),console.log(T);let s,n=m(""),l=m(!1),d=m(!1),h=m(new Array(10).fill(0));function k(t){const e=t.target.files[0];e?(o(d,!1),s=e,o(n,URL.createObjectURL(s))):(s="",o(n,""))}async function B(){if(!s){alert("Please select an image first.");return}o(l,!0);const t=new FormData;t.append("file",s);try{const e=await fetch(`${T}/fashion-mnist`,{method:"POST",body:t});if(!e.ok)throw new Error("Failed to process image");const c=await e.json();o(h,c.probs),o(d,!0)}catch(e){alert(e)}finally{o(l,!1)}}function D(t,e=.2){return t<e?e:t}const x=["T-shirt/top","Trouser","Pullover","Dress","Coat","Sandal","Shirt","Sneaker","Bag","Ankle boot"];Y();var L=ie(),P=u(K(L),2);{var R=t=>{var e=ae();V(e,5,()=>x,W,(c,$,I)=>{var g=te(),q=_(g);p(g),y((z,N)=>{ee(g,"opacity",z),w(q,`${r($)??""}: ${N??""}%`)},[()=>D(r(h)[I]),()=>(r(h)[I]*100).toFixed(2)],U),f(c,g)}),p(e),f(t,e)},C=t=>{var e=H();y(c=>w(e,`Lables are ${c??""} (Fashion MNIST).`),[()=>x.join(", ")],U),f(t,e)};O(P,t=>{r(d)?t(R):t(C,!1)})}var j=u(P,2),F=_(j);{var E=t=>{var e=se();y(()=>{X(e,"src",r(n)),Z(e,"imgOpacity",r(l))}),f(t,e)};O(F,t=>{r(n)&&!r(d)&&t(E)})}var S=u(F,4),A=_(S);A.__change=k;var v=u(A,2);v.__click=B;var M=_(v,!0);p(v),p(S),p(j),y(()=>{v.disabled=r(l),w(M,r(l)?"Processing...":"Upload")}),f(a,L),Q()}G(["change","click"]);export{ge as component};
